# План автоматизации тестирования

## 1. Перечень автоматизируемых сценариев

Автоматизация выполняется для формы **оплаты по дебетовой карте**.

Ниже приведён конкретный набор тест-кейсов, включающий входные данные и ожидаемые результаты (UI + БД).

---

## 1. Позитивные сценарии (Happy Path)

### 1.1. Успешная покупка тура по карте APPROVED
**Входные данные (валидные):**
- Номер карты: `1111 2222 3333 4444`
- Месяц: `12`
- Год: текущий + 1 (например, `26`)
- Владелец: `JOHN DOE`
- CVC: `123`

**Ожидаемый результат (UI):**
- Сообщение: «Операция одобрена банком».

**Ожидаемый результат (БД):**
- В таблице `payment_entity` появляется запись:
   - статус: `APPROVED`;
   - корректная сумма;
   - способ оплаты: `payment`;
   - дата операции.

---

## 2. Негативные сценарии

### 2.1. Покупка тура по карте DECLINED
**Входные данные:**
- Номер карты: `5555 6666 7777 8888`
- Остальные поля — валидные.

**Ожидаемый результат (UI):**
- Сообщение: «Операция отклонена банком».

**Ожидаемый результат (БД):**
- В таблице появляется запись:
   - статус: `DECLINED`;
   - корректная сумма;
   - способ оплаты: `payment`.

---

## 3. Проверка валидации полей формы

Во всех сценариях:
- отображается сообщение об ошибке;
- запись в БД **не создаётся**.

---

## 3.1. Поле «Номер карты»

| Характеристика | Пример |
|----------------|--------|
| Пустое значение | `""` |
| Меньше 16 цифр | `1111 2222 3333 444` |
| Больше 16 цифр | `1111 2222 3333 4444 55` |
| Буквы | `ABCD EFGH IJKL MNOP` |
| Спецсимволы | `1111 **** #### 4444` |
| Карта вне тестового набора | `1234 5678 9012 3456` |
| Все нули | `0000 0000 0000 0000` |

**Ожидаемый результат:**
- Ошибка: «Неверный формат карты».

---

## 3.2. Поле «Месяц»

| Характеристика | Пример |
|----------------|--------|
| Пустое значение | `""` |
| Невозможный месяц | `00` |
| Месяц > 12 | `13`, `15` |
| Одна цифра | `5` |
| Прошлый месяц текущего года | если сейчас февраль → `01` |
| Буквы | `AB` |
| Спецсимволы | `@#` |

**Ожидаемый результат:**
- Ошибка: «Неверно указан месяц».

---

## 3.3. Поле «Год»

| Характеристика | Пример |
|----------------|--------|
| Пустое значение | `""` |
| Прошлый год | если сейчас 2025 → `23` |
| Год более чем +6 лет | `35` |
| Буквы | `AB` |
| Спецсимволы | `@@` |

**Ожидаемый результат:**
- Ошибка: «Истёк срок действия карты» или «Неверно указан год».

---

## 3.4. Поле «Владелец»

| Характеристика | Пример |
|----------------|--------|
| Пустое значение | `""` |
| Кириллица | `ИВАН ИВАНОВ` |
| Цифры | `12345` |
| Спецсимволы | `@@@` |
| Очень длинное имя | 70+ символов |
| Имя из одной буквы | `A` |

**Ожидаемый результат:**
- Ошибка: «Неверный формат имени владельца».

---

## 3.5. Поле «CVC/CVV»

| Характеристика | Пример |
|----------------|--------|
| Пустое значение | `""` |
| 1–2 цифры | `1`, `12` |
| Буквы | `ABC` |
| Спецсимволы | `@@@` |
| Нули | `000` |

**Ожидаемый результат:**
- Ошибка: «Неверный формат CVC».

---

## 4. Общие негативные сценарии

### 4.1. Все поля пустые
**Ожидаемый результат:**
- Ошибки под каждым полем.
- Запись в БД отсутствует.

### 4.2. Несколько ошибок одновременно
**Пример:**
- Месяц: `15`
- CVC: `1`

**Ожидаемый результат:**
- Ошибки под всеми неверными полями.
- Запись в БД отсутствует.

---

## 2. Перечень используемых инструментов с обоснованием выбора

| Инструмент | Обоснование |
|-----------|-------------|
| Java 11 | Требуется условиями проекта |
| Gradle | Управление зависимостями и сборкой |
| JUnit 5 | Современный фреймворк для автотестов |
| Selenide | Удобная автоматизация UI |
| Allure | Наглядные отчёты |
| JDBC | Проверка данных в БД |
| PostgreSQL/MySQL | Поддерживаются приложением |
| Docker | Быстрое развёртывание БД |

---

## 3. Возможные риски

| Риск | Описание |
|------|----------|
| Нестабильность UI | Возможны задержки загрузки элементов |
| Общий банковский сервис | Логи смешиваются с запросами других студентов |
| Ошибки окружения | Проблемы с БД, портами, конфигурацией |
| Ограниченные сроки | Большой объём тестов |

---

## 4. Интервальная оценка

| Вид работ | Время (часы) |
|-----------|--------------|
| Анализ требований | 2–3 |
| Ручное тестирование | 3–4 |
| Разработка автотестов | 10–14 |
| Настройка отчётов | 2–3 |
| Подготовка документации | 2–3 |
| **Итого** | **19–27 часов** |

---

## 5. План сдачи работ

1. **1–2 день** — подготовка плана автоматизации
2. **3–4 день** — ручное тестирование, оформление issue
3. **5–7 день** — разработка и прогон автотестов
4. **8 день** — подготовка отчётов и публикация результатов  

